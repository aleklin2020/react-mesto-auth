{"version":3,"sources":["image/header/Vector.svg","image/profile/add-button.svg","image/profile/image.jpg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","utils/api.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","image/authorization-ok.svg","image/authorization-bad.svg","components/Login.js","components/Register.js","components/ProtectedRoute.js","components/InfoTooltip.js","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","loggedIn","email","handleSignOut","pathname","useLocation","text","linkRoute","className","alt","src","headerVektor","to","onClick","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","onCardDelete","name","link","onCardClick","type","onCardLike","length","Main","onEditAvatar","avatar","onEditProfile","about","onAddPlace","button","cards","map","item","Footer","PopupWithForm","formName","isOpen","onClose","popupTitle","onSubmit","children","formButtonContent","ImagePopup","api","headers","this","_baseUrl","_headers","res","ok","json","Promise","reject","Error","fetch","method","then","_checkResponse","profession","body","JSON","stringify","newCard","id","like","localStorage","getItem","EditProfilePopup","useState","setName","description","setAbout","useEffect","e","preventDefault","console","log","onUpdateUser","minLength","maxLength","required","placeholder","value","onChange","target","EditAvatarPopup","userAvatar","useRef","onUpdateAvatar","current","ref","defaultValue","EditPlacePopup","namePlace","setNamePlace","linkPlace","setLinkPlace","dataCard","Login","authorization","valueEmail","setValueEmail","valuePassword","setValuePassword","password","Register","registration","evt","ProtectedRoute","Component","component","InfoTooltip","message","iconPath","BASE_URL","checkResponse","status","getContent","token","data","App","setСurrentUser","setLoggedIn","getUserInform","catch","err","setCards","getIntialCards","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isImagePopupOpen","setIsImagePopupOpen","selectedCard","setSelectedCard","closeAllPopups","setIsTooltipOpen","handleEsc","keyCode","window","addEventListener","removeEventListener","isTooltipOpen","setMessage","setEmail","history","useHistory","handleInfoTooltipOpen","handleInfoTooltipContent","jwt","auth","push","Provider","removeItem","path","setItem","updateHeaders","user","registrationOk","setTimeout","registrationWrong","statusCode","exact","LikeCard","c","deleteCard","filter","title","submitText","newName","setUserInform","newAvatar","getAvatarProfile","AddPlacePopup","photoAddServer","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3338f3d6.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/Vector.03b78ada.svg\";","export default __webpack_public_path__ + \"static/media/add-button.d86bb2ed.svg\";","export default __webpack_public_path__ + \"static/media/image.e61b5376.jpg\";","import headerVektor from \"../image/header/Vector.svg\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport React from \"react\";\n\nfunction Header({ loggedIn, email, handleSignOut }) {\n  const { pathname } = useLocation();\n  const text = `${pathname === \"/sign-in\" ? \"Регистрация\" : \"Войти\"}`;\n  const linkRoute = `${pathname === \"/sign-in\" ? \"/sign-up\" : \"/sign-in\"}`;\n  return (\n    <header className=\"header\">\n      <img className=\"header__logo\" alt=\"Maesto\" src={headerVektor} />\n      <div className=\"header__wrap\">\n        {loggedIn ? (\n          <>\n            <p className=\"header__email\">{email}</p>\n            <Link className=\"header__signout\" to=\"\" onClick={handleSignOut}>\n              Выйти\n            </Link>\n          </>\n        ) : (\n          <Link className=\"header__link\" to={linkRoute}>\n            {text}\n          </Link>\n        )}\n      </div>\n    </header>\n  );\n}\n\nexport default Header;\n\n","import React from 'react';\n\nconst CurrentUserContext = React.createContext();\n\nexport default CurrentUserContext;","import React from \"react\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\n\nfunction Card(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  // Определяем, являемся ли мы владельцем текущей карточки\n  const isOwn = props.card.owner === currentUser._id;\n  // Создаём переменную, которую после зададим в `className` для кнопки удаления\n  const cardDeleteButtonClassName = `popup_element ${\n    isOwn ? \"elemenet__icon-delete\" : \"\"\n  }`;\n  // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\n  const isLiked = props.card.likes.some((i) => i === currentUser._id);\n\n  // Создаём переменную, которую после зададим в `className` для кнопки лайка\n  const cardLikeButtonClassName = `element__vector-like ${\n    isLiked ? \"element__vector-active\" : \"\"\n  }`;\n  function handleLikeClick() {\n    props.onCardLike(props.card);\n  }\n  function handleDeleteClick() {\n    props.onCardDelete(props.card);\n  }\n  function handleClick() {\n    props.onCardClick(props.card);\n  }\n  return (\n    <div className=\"element\">\n      <button\n        className={cardDeleteButtonClassName}\n        onClick={handleDeleteClick}\n      ></button>\n      <img\n        className=\"element__image\"\n        alt={props.card.name}\n        src={props.card.link}\n        onClick={handleClick}\n      />\n      <h2 className=\"element__title\">{props.card.name}</h2>\n      <div className=\"element__likes\">\n        <button\n          className={cardLikeButtonClassName}\n          type=\"button\"\n          onClick={handleLikeClick}\n        ></button>\n        <p className=\"element__like\">{props.card.likes.length}</p>\n      </div>\n    </div>\n  );\n}\nexport default Card;\n\n","import React from \"react\";\nimport \"../index.css\";\nimport avatar from \"../image/profile/image.jpg\";\nimport button from \"../image/profile/add-button.svg\";\nimport Card from \"./Card.js\";\nimport App from \"./App.js\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\n\nfunction Main(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"main\">\n      <section className=\"profile-informashion\">\n        <div className=\"profile\">\n          <div className=\"profile-page\">\n            <button\n              className=\"profile__avatar-button\"\n              onClick={props.onEditAvatar}\n            >\n              <img\n                className=\"profile__avatar\"\n                alt=\"Аватарка\"\n                src={currentUser.avatar}\n              />\n            </button>\n          </div>\n          <div className=\"profile__info\">\n            <div className=\"profile__box\">\n              <h1 className=\"profile__name\">{currentUser.name}</h1>\n              <button\n                className=\"profile__bedit-button\"\n                type=\"button\"\n                onClick={props.onEditProfile}\n              ></button>\n            </div>\n            <p className=\"profile__profession\">{currentUser.about}</p>\n          </div>\n        </div>\n        <button\n          className=\"profile-informashion__button\"\n          name=\"editing\"\n          type=\"button\"\n          onClick={props.onAddPlace}\n        >\n          <img alt=\"Кнопка\" src={button} />\n        </button>\n      </section>\n      <section className=\"elements\">\n        {props.cards.map((item) => (\n          <Card\n            key={item._id}\n            card={item}\n            onCardClick={props.onCardClick}\n            onCardLike={props.onCardLike}\n            onCardDelete={props.onCardDelete}\n          />\n        ))}\n      </section>\n    </main>\n  );\n}\nexport default Main;\n\n","import \"../index.css\";\nimport headerVektor from \"../image/header/Vector.svg\";\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__text\">© 2020 Alex Lin</p>\n    </footer>\n  );\n}\nexport default Footer;","import \"../index.css\";\n\nfunction PopupWithForm(props) {\n  return (\n    <div\n      className={`popup ${props.formName} ${\n        props.isOpen ? \"popup_opened\" : \"\"\n      }`}\n    >\n      <div className=\"popup__container\">\n        <button\n          className=\"popup__close-icon\"\n          type=\"button\"\n          onClick={props.onClose}\n        ></button>\n        <h2 className=\"popup__title\">{props.popupTitle}</h2>\n        <form\n          className=\"form form-save\"\n          name={props.formName}\n          onSubmit={props.onSubmit}\n        >\n          {props.children}\n          <button\n            className=\"form__submit form__submit_loaded\"\n            type=\"submit\"\n            onClick={props.onClose}\n          >\n            {props.formButtonContent}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\nexport default PopupWithForm;\n\n","import React from \"react\";\nfunction ImagePopup(props) {\n  return (\n    <div\n      className={`popup popup_open-blocks ${\n        props.isOpen ? \"popup_opened\" : \"\"\n      }`}\n    >\n      <div className=\"popup__container-blocks\">\n        <button\n          className=\"popup__close-icon\"\n          type=\"button\"\n          onClick={props.onClose}\n        ></button>\n        <img\n          className=\"popup__image\"\n          alt={props.card.name}\n          src={props.card.link}\n        />\n        <h2 className=\"popup__titles\">{props.card.name}</h2>\n      </div>\n    </div>\n  );\n}\nexport default ImagePopup;","class Api {\n  constructor({ link, headers }) {\n    this._baseUrl = link;\n    this._headers = headers;\n  }\n    \n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    } else {\n      return Promise.reject(new Error(\"Произошла ошибка ${res.status}\"));\n    }\n  }\n  // Получение информаций профиля с сервера\n  getUserInform() {\n    return fetch(`${this._baseUrl}/users/me`, {\n        method: 'GET',\n      // credentials: 'include',\n      headers: this._headers,\n    }).then((res) => {\n      return this._checkResponse(res);\n    });\n  }\n  // обновление информаций на сервере\n  setUserInform(name, profession) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: \"PATCH\",\n     // credentials: 'include',\n       headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        about: profession,\n      }),\n    }).then((res) => {\n      return this._checkResponse(res);\n    });\n  }\n  // Обновление аватара на сервере\n  getAvatarProfile(avatar) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: \"PATCH\",\n     // credentials: 'include',\n       headers: this._headers,\n      body: JSON.stringify({\n       avatar: avatar\n      }),\n    }).then((res) => {\n      return this._checkResponse(res);\n    });\n  }\n  // Получение обекта карточек с сервера\n  getIntialCards() {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: 'GET',\n     // credentials: 'include',\n       headers: this._headers,\n    }).then((res) => {\n      return this._checkResponse(res);\n    });\n  }\n  // Добавление карточек на сервер\n  photoAddServer(newCard) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: \"POST\",\n     // credentials: 'include',\n       headers: this._headers,\n      body: JSON.stringify({\n        name: newCard.name,\n        link: newCard.link,\n      }),\n    }).then((res) => {\n      return this._checkResponse(res);\n    });\n  }\n  // Добавление/удаление лайков\n LikeCard(id, like) {\n        if (like) {\n            return fetch(`${this._baseUrl}/cards/${id}/likes`, {\n                method: 'PUT',\n               // credentials: 'include',\n                 headers: this._headers,\n            })\n            .then(res => {return this._checkResponse(res)})\n         } else {\n            return fetch(`${this._baseUrl}/cards/${id}/likes`, {\n                method: 'DELETE',\n              //  credentials: 'include',\n                 headers: this._headers,\n            })\n            .then(res => {return this._checkResponse(res)})\n         }\n    }\n  // удаление карточек\n  deleteCard(id) {\n    return fetch(`${this._baseUrl}/cards/${id}`, {\n      method: \"DELETE\",\n    //  credentials: 'include',\n       headers: this._headers,\n    }).then((res) => {\n      return this._checkResponse(res);\n    });\n  }\n\n    updateHeaders() {\n      this._headers = {\n        'Content-Type': 'application/json',\n        'Authorization':  `Bearer ${localStorage.getItem('jwt')}`\n      }\n    }\n\n}\nconst api = new Api({\n  link: \"https://pictures-host.nomoredomains.rocks\",\n   headers: {\n   'Authorization': `Bearer ${localStorage.getItem('jwt')}`,\n    \"Content-Type\": \"application/json\",\n  },\n});\nexport default api;\n","import PopupWithForm from \"./PopupWithForm\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\nimport React from \"react\";\nimport { useState } from \"react\";\nfunction EditProfilePopup(props) {\n  const [name, setName] = useState(\"\");\n  const [description, setAbout] = useState(\"\");\n\n  const currentUser = React.useContext(CurrentUserContext);\n  React.useEffect(() => {\n    if (currentUser) {\n      setName(currentUser.name);\n      setAbout(currentUser.about);\n    }\n  }, [currentUser]);\n\n  function handleChangeName(e) {\n    setName(e.target.value);\n  }\n  function handleChangeAbout(e) {\n    setAbout(e.target.value);\n  }\n  function handleSubmit(e) {\n    // Запрещаем браузеру переходить по адресу формы\n    e.preventDefault();\n    console.log(e);\n    // Передаём значения управляемых компонентов во внешний обработчик\n\n    props.onUpdateUser({\n      name: name ,\n      about: description,\n    });\n  }\n  return (\n    <PopupWithForm\n      className=\"overlay_type_edit\"\n      popupTitle=\"Редактировать профиль\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      formName=\"profile-popup\"\n      formButtonContent=\"Сохранить\"\n      onSubmit={handleSubmit}\n    >\n      <label className=\"form__label\">\n        <input\n          type=\"text\"\n          minLength=\"2\"\n          maxLength=\"40\"\n          name=\"name\"\n          className=\"form__input form__input_name\"\n          required\n          placeholder=\"Ваше имя\"\n          value={name}\n          onChange={handleChangeName}\n        />\n      </label>\n      <span className=\"form-name-input-error\"></span>\n      <label className=\"form__label\" />\n      <input\n        type=\"text\"\n        minLength=\"2\"\n        maxLength=\"200\"\n        name=\"job\"\n        className=\"form__input form__input_job\"\n        required\n        placeholder=\"Ваша профессия\"\n        value={description}\n        onChange={handleChangeAbout}\n      />\n      <span className=\"form-job-input-error\"></span>\n    </PopupWithForm>\n  );\n}\nexport default EditProfilePopup;","import PopupWithForm from \"./PopupWithForm\";\nimport React from \"react\";\n\nfunction EditAvatarPopup(props) {\n  const userAvatar = React.useRef(); // записываем объект, возвращаемый хуком, в переменную\n  function handleSubmit(e) {\n    // Запрещаем браузеру переходить по адресу формы\n    e.preventDefault();\n    // Передаём значения управляемых компонентов во внешний обработчик\n    props.onUpdateAvatar(userAvatar.current.value);\n  }\n  return (\n    <PopupWithForm\n      className=\"overlay_type_setAvatar\"\n      popupTitle=\"Обновить аватар\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      formName=\"popup_avatar\"\n      formButtonContent=\"Обновить\"\n      onSubmit={handleSubmit}\n    >\n      <label className=\"form__label\">\n        <input\n          type=\"url\"\n          ref={userAvatar}\n          name=\"newAvatar\"\n          className=\"form__input form__input_job form__input-active\"\n          required\n          placeholder=\"Ссылка на новый аватар\"\n          defaultValue=\"\"\n        />\n        <span className=\"form-link-avatar-error\"></span>\n      </label>\n    </PopupWithForm>\n  );\n}\nexport default EditAvatarPopup;\n\n","import PopupWithForm from \"./PopupWithForm\";\nimport React from \"react\";\nimport { useState } from \"react\";\n\nfunction EditPlacePopup(props) {\n  const [namePlace, setNamePlace] = useState(\"\");\n  const [linkPlace, setLinkPlace] = useState(\"\");\n\n  function handleChangeNamePlace(e) {\n    setNamePlace(e.target.value);\n  }\n  function handleChangeLinkPlace(e) {\n    setLinkPlace(e.target.value);\n  }\n  function handleSubmit(e) {\n    // Запрещаем браузеру переходить по адресу формы\n    e.preventDefault();\n    // Передаём значения управляемых компонентов во внешний обработчик\n    const dataCard = {};\n    dataCard.name = namePlace;\n    dataCard.link = linkPlace;\n    props.onAddPlace(dataCard);\n  }\n  return (\n    <PopupWithForm\n      className=\"overlay_type_addPlace\"\n      popupTitle=\"Новое место\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      formName=\"popup_card\"\n      formButtonContent=\"Создать\"\n      onSubmit={handleSubmit}\n    >\n      <label className=\"form__label\">\n        <input\n          type=\"text\"\n          minLength=\"2\"\n          maxLength=\"30\"\n          name=\"popup_element\"\n          className=\"form__input form__input_name\"\n          required\n          placeholder=\"Название\"\n          value={namePlace}\n          onChange={handleChangeNamePlace}\n        />\n        <span className=\"form-name-input-error\"></span>\n      </label>\n      <input\n        type=\"url\"\n        name=\"imgPlace\"\n        className=\"form__input form__input_job\"\n        required\n        placeholder=\"Ссылка на картинку\"\n        value={linkPlace}\n        onChange={handleChangeLinkPlace}\n      />\n      <span className=\"form-job-input-error\"></span>\n    </PopupWithForm>\n  );\n}\nexport default EditPlacePopup;\n\n","export default __webpack_public_path__ + \"static/media/authorization-ok.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/authorization-bad.df8eddf6.svg\";","import React from \"react\";\n\nfunction Login({ authorization }) {\n  const [valueEmail, setValueEmail] = React.useState(\"\");\n  const [valuePassword, setValuePassword] = React.useState(\"\");\n\n  function handleChangeEmail(e) {\n    setValueEmail(e.target.value);\n  }\n\n  function handleChangePassword(e) {\n    setValuePassword(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    const email = valueEmail;\n    const password = valuePassword;\n\n    authorization({ email, password });\n  }\n\n  return (\n    <section className=\"start-screen\">\n      <h1 className=\"start-screen__title\">Вход</h1>\n      <form onSubmit={handleSubmit} className=\"start-screen__form\">\n        <input\n          value={valueEmail}\n          className=\"start-screen__input\"\n          placeholder=\"Email\"\n          onChange={handleChangeEmail}\n        />\n        <input\n          value={valuePassword}\n          className=\"start-screen__input\"\n          placeholder=\"Пароль\"\n          onChange={handleChangePassword}\n        />\n        <button className=\"start-screen__submit\">Войти</button>\n      </form>\n    </section>\n  );\n}\n\nexport default Login;\n\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nfunction Register({ registration }) {\n  const [valueEmail, setValueEmail] = React.useState(\"\");\n  const [valuePassword, setValuePassword] = React.useState(\"\");\n\n  function handleChangeEmail(evt) {\n    setValueEmail(evt.target.value);\n  }\n\n  function handleChangePassword(evt) {\n    setValuePassword(evt.target.value);\n  }\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    const email = valueEmail;\n    const password = valuePassword;\n\n    registration({ email, password });\n  }\n\n  return (\n    <section className=\"start-screen\">\n      <h1 className=\"start-screen__title\">Регистрация</h1>\n      <form onSubmit={handleSubmit} className=\"start-screen__form\">\n        <input\n          value={valueEmail}\n          onChange={handleChangeEmail}\n          type=\"email\"\n          className=\"start-screen__input\"\n          placeholder=\"Email\"\n        />\n        <input\n          value={valuePassword}\n          onChange={handleChangePassword}\n          type=\"password\"\n          className=\"start-screen__input\"\n          placeholder=\"Пароль\"\n        />\n        <button className=\"start-screen__submit\">Зарегестрироваться</button>\n      </form>\n      <Link className=\"start-screen__login\" to=\"/sign-in\">\n        {\" \"}\n        Уже зарегестрированы? Войти\n      </Link>\n    </section>\n  );\n}\n\nexport default Register;\n\n","import React from \"react\";\nimport { Redirect, Route } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n  return (\n    <Route>\n      {() =>\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"/sign-in\" />\n      }\n    </Route>\n  );\n};\n\nexport default ProtectedRoute;\n\n","import React from \"react\";\n\nfunction InfoTooltip({ onClose, isOpen, message }) {\n  return (\n    <div\n      className={`popup popup_type_infotool ${isOpen ? \"popup_opened\" : \"\"}`}\n    >\n      <div className=\"popup__container\">\n        <img\n          src={message.iconPath}\n          alt=\"Картинка Yes или No\"\n          className=\"popup__result-icon\"\n        />\n        <p className=\"popup__title-info\">{message.text}</p>\n        <button type=\"button\" className=\"popup__close-icon\" onClick={onClose} />\n      </div>\n    </div>\n  );\n}\n\nexport default InfoTooltip;\n\n","import api from './api'\nexport const BASE_URL = \"https://pictures-host.nomoredomains.rocks\";\n\nconst checkResponse = (res) => {\n  if (!res.ok) {\n    return Promise.reject(`Ошибка: ${res.status}`);\n  }\n  return res.json();\n};\n\nexport const register = (email, password) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: \"POST\",\n     headers: {\n      \"Content-Type\": \"application/json\",\n   \n    },\n   // credentials: 'include',\n    body: JSON.stringify({ email, password }),\n  })\n .then(checkResponse)\n};\n\nexport const authorize = ({ email, password }) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: \"POST\",\n     headers: {\n            \n            'Content-Type': 'application/json'\n        },\n   // credentials: 'include',\n    body: JSON.stringify({ email, password }),\n    \n  })\n    .then(checkResponse)\n   .then((data) => {\n      if (data.token) {\n        localStorage.setItem('jwt', data.token);\n        api.updateHeaders();\n        return data.token\n      }\n    }) \n\n    \n    \n};\n//проверка токена\nexport const getContent = (token) => {\n  console.log(token)\n  return fetch(`${BASE_URL}/users/me`, {\n    method: \"GET\",\n    headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n             'Authorization': `Bearer ${token}`,\n        },\n   // credentials: 'include',\n    \n  })\n    .then(checkResponse)\n    .then(data => data)\n};\n\n","import React from \"react\";\nimport \"../index.css\";\nimport headerVektor from \"../image/header/Vector.svg\";\nimport avatar from \"../image/profile/image.jpg\";\nimport button from \"../image/profile/add-button.svg\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport ImagePopup from \"./ImagePopup\";\nimport Card from \"./Card.js\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\nimport { useEffect, useState } from \"react\";\nimport api from \"../utils/api\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\n\nimport registrationOk from \"../image/authorization-ok.svg\";\nimport registrationWrong from \"../image/authorization-bad.svg\";\nimport { Route, Switch, Redirect, useHistory } from \"react-router-dom\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport InfoTooltip from \"./InfoTooltip\";\nimport * as auth from \"../utils/auth\";\n\nfunction App() {\n  const [currentUser, setСurrentUser] = React.useState(\"\");\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  React.useEffect(() => {\n    if (loggedIn) {\n    api\n      .getUserInform()\n      .then((data) => {\n        setСurrentUser(data.data);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n    }\n  }, [loggedIn]);\n  const [cards, setCards] = React.useState([]);\n  React.useEffect(() => {\n    if (loggedIn) {\n    api\n      .getIntialCards()\n      .then((res) => {\n        setCards(res);\n      })\n      .catch((res) => {\n        console.log(`Error:${res}`);\n      });\n    }\n  }, [loggedIn]);\n  function handleCardLike(card) {\n    // Снова проверяем, есть ли уже лайк на этой карточке\n    const isLiked = card.likes.some((i) => i === currentUser._id);\n\n    // Отправляем запрос в API и получаем обновлённые данные карточки\n    api\n      .LikeCard(card._id, !isLiked)\n      .then((newCard) => {\n        setCards((cards) =>\n          cards.map((c) => (c === card._id ? newCard : c))\n        );\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n  function handleCardDelete(card) {\n    api\n      .deleteCard(card._id)\n      .then(() => {\n        setCards((cards) => cards.filter((c) => c._id !== card._id));\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n  function handleUpdateUser(newName) {\n    console.log(newName)\n    api\n      .setUserInform(newName.name, newName.about)\n      .then((data) => {\n        setСurrentUser(data.data);\n        closeAllPopups();\n        console.log(data);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleUpdateAvatar(newAvatar) {\n    console.log(newAvatar);\n    api\n      .getAvatarProfile(newAvatar)\n      .then((data) => {\n        setСurrentUser(data.data);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n  function handleAddPlaceSubmit(newCard) {\n    console.log(newCard);\n    api\n      .photoAddServer(newCard)\n      .then((newCard) => {\n        setCards([newCard, ...cards ]);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] =\n    React.useState(false);\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] =\n    React.useState(false);\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n  const [isImagePopupOpen, setIsImagePopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({});\n  function handleCardClick(card) {\n    setSelectedCard(card);\n    setIsImagePopupOpen(true);\n  }\n\n  \n\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsImagePopupOpen(false);\n    setSelectedCard({});\n    setIsTooltipOpen(false);\n\n  }\n  React.useEffect(() => {\n    const handleEsc = (e) => {\n      const ESC_KEYVODE = 27;\n      if (e.keyCode === ESC_KEYVODE) {\n        closeAllPopups();\n      }\n    };\n    if (\n      isEditProfilePopupOpen === true ||\n      isEditAvatarPopupOpen === true ||\n      isAddPlacePopupOpen === true ||\n      isImagePopupOpen === true\n    ) {\n      window.addEventListener(\"keydown\", handleEsc);\n    }\n    return () => {\n      window.removeEventListener(\"keydown\", handleEsc);\n    };\n  }, [\n    isEditProfilePopupOpen,\n    isEditAvatarPopupOpen,\n    isAddPlacePopupOpen,\n    isImagePopupOpen,\n  ]);\n\n  // новый код\n\n  const [isTooltipOpen, setIsTooltipOpen] = React.useState(false);\n  \n  const [message, setMessage] = React.useState({ iconPath: \"\", text: \"\" });\n  const [email, setEmail] = React.useState(\"\");\n  const history = useHistory();\n\n  React.useEffect(() => {\n    const jwt = localStorage.getItem(\"jwt\");\n    if (jwt) {\n      auth\n        .getContent(jwt)\n        .then((res) => {\n          setLoggedIn(true);\n          setEmail(res.data.email);\n          history.push(\"/\");\n        })\n        .catch((err) => console.log(err));\n    }\n  }, [history]);\n\n  function handleInfoTooltipOpen() {\n    setIsTooltipOpen(true);\n  }\n\n  function handleInfoTooltipContent({ iconPath, text }) {\n    setMessage({ iconPath: iconPath, text: text });\n  }\n\n  function handleSignOut() {\n    setLoggedIn(false);\n    localStorage.removeItem(\"jwt\");\n    setEmail(\"\");\n    history.push(\"/sign-in\");\n  }\n\n  function registration({ email, password }) {\n       auth\n      .register(email, password)\n      .then((res) => {\n           if (res.statusCode !== 201) {\n          handleInfoTooltipContent({\n            iconPath: registrationOk,\n            text: \"Вы успешно зарегестрировались!\",\n          });\n          handleInfoTooltipOpen();\n          setTimeout(history.push, 3000, \"/sign-in\");\n          setTimeout(closeAllPopups, 2500);\n        }})\n      .catch((err) => {\n        handleInfoTooltipContent({\n          iconPath: registrationWrong,\n          text: \"Что-то пошло не так! Попробуйте еще раз!\",\n        });\n        handleInfoTooltipOpen();\n        setTimeout(closeAllPopups, 2500);\n        console.log(err);\n      });\n  }\n  \n  function authorization({ email, password }) {\n    auth\n      .authorize({ email, password })\n     .then((data) => {\n        if (!data) {\n          throw new Error(\"Произошла ошибка\");\n        }\n\n         auth.getContent(data)\n          .then((res) => {\n            setEmail(res.data.email);\n          })\n          .catch(err => console.log(err))\n\n        setLoggedIn(true);\n         api.getUserInform()\n         .then((user) => setСurrentUser(user.data)\n          \n        )\n          .catch((err) => {\n            console.log(err)\n          });\n\n\n        handleInfoTooltipContent({\n          iconPath: registrationOk,\n          text: \"Вы успешны авторизованы!\",\n        });\n        setEmail(email);\n        handleInfoTooltipOpen();\n        setTimeout(history.push, 2500, \"/\");\n        setTimeout(closeAllPopups, 2000);\n      })\n      .catch((err) => {\n        handleInfoTooltipContent({\n          iconPath: registrationWrong,\n          text: \"Что-то пошло не так! Попробуйте еще раз!\",\n        });\n        handleInfoTooltipOpen();\n        setTimeout(closeAllPopups, 2000);\n        console.log(err);\n      });\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <div className=\"content\">\n          <Header\n            loggedIn={loggedIn}\n            email={email}\n            handleSignOut={handleSignOut}\n          />\n          <Switch>\n            <Route path=\"/sign-in\">\n              <Login authorization={authorization} />\n            </Route>\n            <Route path=\"/sign-up\">\n              <Register registration={registration} />\n            </Route>\n            <ProtectedRoute\n              exact\n              path=\"/\"\n              component={Main}\n              onEditAvatar={handleEditAvatarClick}\n              onEditProfile={handleEditProfileClick}\n              onAddPlace={handleAddPlaceClick}\n              onCardClick={handleCardClick}\n              onCardLike={handleCardLike}\n              onCardDelete={handleCardDelete}\n              cards={cards}\n              loggedIn={loggedIn}\n            ></ProtectedRoute>\n\n            <Route path=\"/\">\n              {loggedIn ? <Redirect to=\"/main\" /> : <Redirect to=\"/sign-in\" />}\n            </Route>\n          </Switch>\n          <Footer />\n          <EditProfilePopup\n            name=\"profile-popup\"\n            title=\"Редактировать профиль\"\n            submitText=\"Сохранить\"\n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n            onUpdateUser={handleUpdateUser}\n          />\n          <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onClose={closeAllPopups}\n            onUpdateAvatar={handleUpdateAvatar}\n          />\n          <AddPlacePopup\n            isOpen={isAddPlacePopupOpen}\n            onClose={closeAllPopups}\n            onAddPlace={handleAddPlaceSubmit}\n          />\n          <ImagePopup\n            card={selectedCard}\n            onClose={closeAllPopups}\n            isOpen={isImagePopupOpen}\n          />\n          <PopupWithForm\n            name=\"popup_delete\"\n            title=\"Вы уверены\"\n            submitText=\"Да\"\n            onClose={closeAllPopups}\n          />\n          <InfoTooltip\n            isOpen={isTooltipOpen}\n            onClose={closeAllPopups}\n            message={message}\n          />\n        </div>\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\nexport default App;\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport {BrowserRouter} from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n      <BrowserRouter>\n    <App />\n      </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();"],"sourceRoot":""}